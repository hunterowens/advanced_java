import java.net.ServerSocket;
import java.net.Socket;
import java.util.Scanner;
import java.io.PrintWriter;
import java.io.IOException;
public class EchoClient {
    InetAddress addr = null;
    int port;
    EchoClient(InetAddress addr, int port) {
	this.addr = addr;
	this.port = port;
    }
    
    public void start() {
	Socket sock;
	try {
	    sock = new Socket(this.addr,this.port);
	}
	catch(IOException ioe) {
	    ioe.printStackTrace();
	}
	Scanner in = new Scanner(sock.getInputStream());
	PrintWriter out = new PrintWriter(sock.getOutputStream(), true);
	
	//Create Scanner
	Scanner keyIn = new Scanner(System.in);
	//loopy loop
	done = false;
	while (!done) {
	    System.out.print(">> "); 
	    String userInput = keyIn.nextLine();
	    if (userInput.equalsIgnoreCase("exit")) {
		out.println(userInput);
		done = true;
	    }
	    else {
		out.println(userInput);
		String serverReply = in.nextLine();
		System.out.println(serverReply);
	    }
	}
	sock.close();
    }
    public static void main(String[] args) {
	EchoClient client = new EchoClient(InetAddress.getLocalHost(), 8189);
	client.start();
    }
}